<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
    
    
      <link href="/css/fonts.css" rel="stylesheet" type="text/css">
    
  

  
  <title>Flavio Castelli</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  

  
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
  

  
  <link href="http://flavio.castelli.me/favicon.png" rel="icon">

  
  
  

  

  <link href="/atom.xml" rel="alternate" title="Flavio Castelli" type="application/atom+xml">

  <meta name="description" content="">
  <meta name="keywords" content="">

  <meta name="author" content="">

  
  <meta name="generator" content="Hugo 0.49.2" />

  
  

  
  

</head>
<body>


<header role="banner"><hgroup>
  
  <h1><a href="http://flavio.castelli.me/">Flavio Castelli</a></h1>
    <h2>Debugging my life</h2>
</hgroup></header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigateâ€¦</option>
      
        <option value="http://flavio.castelli.me/">Â» Blog</option>
      
        <option value="http://flavio.castelli.me/post">Â» Archive</option>
      

  </select>
</fieldset>


<ul class="main-navigation">
  
  
    
      <li><a href="http://flavio.castelli.me/" title="Blog">Blog</a></li>
    
  
    
      <li><a href="http://flavio.castelli.me/post" title="Archive" >Archive</a></li>
    
  
</ul>


<ul class="subscription">
  
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"><i class="fa fa-rss-square fa-lg"></i></a></li>

</ul>


<form action="https://www.google.com/search" method="get" target="_blank">
  <fieldset role="search">
  	<input class="search" type="text" name="q" results="0" placeholder="Search"/>
    <input type="hidden" name="q" value="site:http://flavio.castelli.me/" />
  </fieldset>
</form>

</nav>


<div id="main">
 <div id="content">
  <div class="blog-index">
    
    
    <article>

        
        

<header>
    <p class="meta">Feb 7, 2023
         - 6 minute read 
         - <a href="http://flavio.castelli.me/2023/02/07/building-a-unikernel-that-runs-webassembly---part-1/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/unikernel/">Unikernel </a><a class="label" href="http://flavio.castelli.me/categories/webassembly/">WebAssembly </a><a class="label" href="http://flavio.castelli.me/categories/rust/">Rust </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2023/02/07/building-a-unikernel-that-runs-webassembly---part-1/">Building a unikernel that runs WebAssembly - part 1</a>
    </h1>
</header>


        
          <p>Hackweek 22 took place last week. During this week all the SUSE employees are free to hack on whatever they want. This one of the perks of working at SUSE ðŸ˜Ž.
This time my personal project has been about building a unikernel that runs WebAssembly.
 I wanted this blog post to contain all the details about this journey. However I realized this would have been too much for a single post.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2023/02/07/building-a-unikernel-that-runs-webassembly---part-1/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Jul 21, 2022
         - 8 minute read 
         - <a href="http://flavio.castelli.me/2022/07/21/playing-with-common-expression-language/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/kubernetes/">kubernetes </a><a class="label" href="http://flavio.castelli.me/categories/webassembly/">WebAssembly </a><a class="label" href="http://flavio.castelli.me/categories/cpp/">CPP </a><a class="label" href="http://flavio.castelli.me/categories/common-expression-language/">Common expression language </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2022/07/21/playing-with-common-expression-language/">Playing with Common Expression Language</a>
    </h1>
</header>


        
          <p>Common Expression Language (CEL) is an expression language created by Google. It allows to define constraints that can be used to validate input data.
This language is being used by some open source projects and products, like:
 Google Cloud Certificate Authority Service Envoy There&rsquo;s even a Kubernetes Enhancement Proposal that would use CEL to validate Kubernetes&rsquo; CRDs.  I&rsquo;ve been looking at CEL since some time, wondering how hard it would be to find a way to write Kubewarden validation policies using this expression language.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2022/07/21/playing-with-common-expression-language/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Apr 26, 2022
         - 4 minute read 
         - <a href="http://flavio.castelli.me/2022/04/26/write-kubectl-plugins-using-webassembly-and-wasi/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/kubernetes/">kubernetes </a><a class="label" href="http://flavio.castelli.me/categories/webassembly/">WebAssembly </a><a class="label" href="http://flavio.castelli.me/categories/wasi/">WASI </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2022/04/26/write-kubectl-plugins-using-webassembly-and-wasi/">Write kubectl plugins using WebAssembly and WASI</a>
    </h1>
</header>


        
          <p>A long time passed since the last time I wrote something on this blog! ðŸ˜… I haven&rsquo;t been idle during this time, quite the opposite&hellip; I kept myself busy experimenting with WebAssembly and Kubernetes.
You probably have already heard about WebAssembly, but there are high chances that happened in the context of Web application development. There&rsquo;s however a new emerging trend that consists of using WebAssembly outside of the browser.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2022/04/26/write-kubectl-plugins-using-webassembly-and-wasi/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Oct 5, 2020
         - 16 minute read 
         - <a href="http://flavio.castelli.me/2020/10/05/build-multi-architecture-container-images-using-argo-workflow/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/argo/">argo </a><a class="label" href="http://flavio.castelli.me/categories/argo-workflow/">argo workflow </a><a class="label" href="http://flavio.castelli.me/categories/arm/">ARM </a><a class="label" href="http://flavio.castelli.me/categories/buildah/">buildah </a><a class="label" href="http://flavio.castelli.me/categories/containers/">containers </a><a class="label" href="http://flavio.castelli.me/categories/kubernetes/">kubernetes </a><a class="label" href="http://flavio.castelli.me/categories/multi-architecture-container/">multi-architecture container </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2020/10/05/build-multi-architecture-container-images-using-argo-workflow/">Build multi-architecture container images using argo workflow</a>
    </h1>
</header>


        
          <p>Note well: this blog post is part of a series, checkout the previous episode about running containerized buildah on top of Kubernetes.
 Quick recap I have a small Kubernetes cluster running at home that is made of ARM64 and x86_64 nodes. I want to build multi-architecture images so that I can run them everywhere on the cluster, regardless of the node architecture. My plan is to leverage the same cluster to build these container images.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2020/10/05/build-multi-architecture-container-images-using-argo-workflow/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Sep 16, 2020
         - 23 minute read 
         - <a href="http://flavio.castelli.me/2020/09/16/build-multi-architecture-container-images-using-kubernetes/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/apparmor/">AppArmor </a><a class="label" href="http://flavio.castelli.me/categories/arm/">ARM </a><a class="label" href="http://flavio.castelli.me/categories/buildah/">buildah </a><a class="label" href="http://flavio.castelli.me/categories/containers/">containers </a><a class="label" href="http://flavio.castelli.me/categories/kubernetes/">kubernetes </a><a class="label" href="http://flavio.castelli.me/categories/multi-architecture-container/">multi-architecture container </a><a class="label" href="http://flavio.castelli.me/categories/podman/">podman </a><a class="label" href="http://flavio.castelli.me/categories/seccomp/">seccomp </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2020/09/16/build-multi-architecture-container-images-using-kubernetes/">Build multi-architecture container images using Kubernetes</a>
    </h1>
</header>


        
          <p>Recently I&rsquo;ve added some Raspberry Pi 4 nodes to the Kubernetes cluster I&rsquo;m running at home.
The overall support of ARM inside of the container ecosystem improved a lot over the last years with more container images made available for the armv7 and the arm64 architectures.
But what about my own container images? I&rsquo;m running some homemade containerized applications on top of this cluster and I would like to have them scheduled both on the x64_64 nodes and on the ARM ones.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2020/09/16/build-multi-architecture-container-images-using-kubernetes/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Feb 27, 2020
         - 6 minute read 
         - <a href="http://flavio.castelli.me/2020/02/27/semantic-versioning-and-containers/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/docker/">docker </a><a class="label" href="http://flavio.castelli.me/categories/containers/">containers </a><a class="label" href="http://flavio.castelli.me/categories/kubernetes/">kubernetes </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2020/02/27/semantic-versioning-and-containers/">Semantic versioning and containers</a>
    </h1>
</header>


        
          <p>Developers are used to express the dependencies of their programs using semantic versioning constraints.
For example a Node.js application relying on left-pad could force only certain versions of this library to be used by specifying a constraint like &gt;= 1.1.0 &lt; 1.2.0. This would force npm to install the latest version of the library that satisfies the constraint.
How does that translates to containers?
Imagine the following scenario: a developer deploys a containerized application that requires a Redi database.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2020/02/27/semantic-versioning-and-containers/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Jul 18, 2018
         - 9 minute read 
         - <a href="http://flavio.castelli.me/2018/07/18/hackweek-project-docker-registry-mirror/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/docker/">docker </a><a class="label" href="http://flavio.castelli.me/categories/portus/">portus </a><a class="label" href="http://flavio.castelli.me/categories/containers/">containers </a><a class="label" href="http://flavio.castelli.me/categories/opensuse/">openSUSE </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2018/07/18/hackweek-project-docker-registry-mirror/">Hackweek Project Docker Registry Mirror</a>
    </h1>
</header>


        
          <p>As part of SUSE Hackweek 17 I decided to work on a fully fledged docker registry mirror.
You might wonder why this is needed, after all it&rsquo;s already possible to run a docker distribution (aka registry) instance as a pull-through cache. While that&rsquo;s true, this solution doesn&rsquo;t address the needs of more &ldquo;sophisticated&rdquo; users.
The problem Based on the feedback we got from a lot of SUSE customers it&rsquo;s clear that a simple registry configured to act as a pull-through cache isn&rsquo;t enough.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2018/07/18/hackweek-project-docker-registry-mirror/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Jul 24, 2015
         - 1 minute read 
         - <a href="http://flavio.castelli.me/2015/07/24/putting-opensuse-docker-images-on-a-diet/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/docker/">docker </a><a class="label" href="http://flavio.castelli.me/categories/opensuse/">opensuse </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2015/07/24/putting-opensuse-docker-images-on-a-diet/">Putting openSUSE Docker images on a diet</a>
    </h1>
</header>


        
          <p>In case you missed the openSUSE images for Docker got suddenly smaller.
During the last week I worked together with Marcus SchÃ¤fer (the author of KIWI) to reduce their size.
We fixed some obvious mistakes (like avoiding to install man pages and documentation), but we also removed some useless packages.
These are the results of our work:
 openSUSE 13.2 image: from 254M down to 82M openSUSE Tumbleweed image: from 267M down to 87M  Just to make some comparisons, the Ubuntu image is around 188M while the Fedora one is about 186M.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2015/07/24/putting-opensuse-docker-images-on-a-diet/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Apr 23, 2015
         - 3 minute read 
         - <a href="http://flavio.castelli.me/2015/04/23/introducing-portus-an-authorization-service-and-front-end-for-docker-registry/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/docker/">docker </a><a class="label" href="http://flavio.castelli.me/categories/portus/">portus </a><a class="label" href="http://flavio.castelli.me/categories/opensuse/">opensuse </a><a class="label" href="http://flavio.castelli.me/categories/suse/">suse </a><a class="label" href="http://flavio.castelli.me/categories/hackweek/">hackweek </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2015/04/23/introducing-portus-an-authorization-service-and-front-end-for-docker-registry/">Introducing Portus: an authorization service and front-end for Docker registry</a>
    </h1>
</header>


        
          <p>One of the perks of working at SUSE is hackweek, an entire week you can dedicate working on whatever project you want. Last week the 12th edition of hackweek took place. So I decided to spend it working on solving one of the problems many users have when running an on-premise instance of a Docker registry.
The Docker registry works like a charm, but it&rsquo;s hard to have full control over the images you push to it.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2015/04/23/introducing-portus-an-authorization-service-and-front-end-for-docker-registry/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Nov 3, 2014
         - 1 minute read 
         - <a href="http://flavio.castelli.me/2014/11/03/orchestrating-docker-containers-on-opensuse/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="http://flavio.castelli.me/categories/docker/">docker </a><a class="label" href="http://flavio.castelli.me/categories/opensuse/">openSUSE </a><a class="label" href="http://flavio.castelli.me/categories/orchestration/">orchestration </a>
        
    </p>
    <h1 class="entry-title">
        <a href="http://flavio.castelli.me/2014/11/03/orchestrating-docker-containers-on-opensuse/">Orchestrating Docker containers on openSUSE</a>
    </h1>
</header>


        
          <p>A couple of weeks ago the 11th edition of SUSE&rsquo;s hackweek took place. This year I decided to spend this time to look into the different orchestration and service discovery tools build around Docker.
In the beginning I looked into the kubernetes project. I found it really promising but AFAIK not yet ready to be used. It&rsquo;s still in its early days and it&rsquo;s in constant evolution. I will surely keep looking into it.</p>

          
              <footer>
                  <a href="http://flavio.castelli.me/2014/11/03/orchestrating-docker-containers-on-opensuse/" rel="full-article">Read On &rarr;</a>
              </footer>
          

        

    </article>
    
    
    




<div class="pagination">

    
        
        
        
        <a href="/" aria-label="First" class="label-pagination"><i class="fa fa-angle-double-left fa-lg"></i></a>
    

    

    
        <a href="/" class="label-pagination">1</a>
    
        <a href="/page/2/" class="label-pagination">2</a>
    
        <a href="/page/3/" class="label-pagination">3</a>
    
        <a href="/page/4/" class="label-pagination">4</a>
    
        <a href="/page/5/" class="label-pagination">5</a>
    
        <a href="/page/6/" class="label-pagination">6</a>
    
        <a href="/page/7/" class="label-pagination">7</a>
    
        <a href="/page/8/" class="label-pagination">8</a>
    
        <a href="/page/9/" class="label-pagination">9</a>
    

    
    
        <a href="/page/2/" aria-label="Next" class="label-pagination"><i class="fa fa-angle-right fa-lg"></i></a>
    

    
    
        <a href="/page/9/" aria-label="Last"><i class="fa fa-angle-double-right fa-lg"></i></a>
    

</div>

  

  </div>

  

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
        <p>Father, husband and passionate programmer.</p>

<p>Distinguished engineer at SUSE.</p>

      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/flavio/" title="https://github.com/flavio/"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/flavio_castelli/" title="https://twitter.com/flavio_castelli/"><i class="fa fa-twitter fa-3x"></i></a>
      <a rel="me" target="_blank" href="https://hachyderm.io/@flavio" title="https://hachyderm.io/@flavio"><i class="fa fa-mastodon fa-3x"></i></a>
      
         
      
      <a target="_blank" href="https://www.linkedin.com/in/flaviocastelli/" title="https://www.linkedin.com/in/flaviocastelli/"><i class="fa fa-linkedin fa-3x"></i></a>
      
      
      
      
      
      

    
    
    </li>
  </ul>

  

  
    
      <section class="odd">
        
        
      </section>
    
  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/2023/02/07/building-a-unikernel-that-runs-webassembly---part-1/">Building a unikernel that runs WebAssembly - part 1</a>
              </li>
            
          
            
              <li class="post">
                <a href="/2022/07/21/playing-with-common-expression-language/">Playing with Common Expression Language</a>
              </li>
            
          
            
              <li class="post">
                <a href="/2022/04/26/write-kubectl-plugins-using-webassembly-and-wasi/">Write kubectl plugins using WebAssembly and WASI</a>
              </li>
            
          
            
              <li class="post">
                <a href="/2020/10/05/build-multi-architecture-container-images-using-argo-workflow/">Build multi-architecture container images using argo workflow</a>
              </li>
            
          
        </ul>
      </section>
    
  
</aside>
    
 </div>
</div>

<footer role="contentinfo">
  <p>Copyright &copy; 2023  - <a href="http://flavio.castelli.me/license/">License</a> -
  <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
</p>

</footer>






</body>
</html>
   
